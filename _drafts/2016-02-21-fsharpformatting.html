---
layout: post
status: publish
published: true
title: 'F# formatting'
author:
  display_name: vgaltesc
  email: vincentredrum@gmail.com
  url: 'vgaltes.com'
author_login: vgaltesc
author_email: vincentredrum@gmail.com
categories:
- Test
tags:
- data structures
- F#
comments: []
---
<!--
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="http://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="../content/style.css" />
    <script src="content/tips.js" type="../text/javascript"></script>-->
<!--
    <div class="container">
      <div class="row" style="margin-top:30px">
        <div class="span1"></div>
        <div class="span10" id="main">
          <hr />-->

<p>A sequence is a list of potential values (all of them of the same type) computed on demand.</p>
<h3>Sequence creation</h3>
<p>As with <a href="http://vgaltes.com/fsharp/arrays-in-fsharp/">arrays</a> there are several ways to create a sequence.</p>
<p><strong>Create from a range expression</strong></p>
<p>You can create a new sequence from a range expression. In this case, instead of using <code>[|</code> and <code>|]</code> you should use <code>{</code> and <code>}</code></p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">numbers</span> <span class="o">=</span> {<span class="n">1..</span><span class="n">20</span>}
</code></pre></td>
</tr>
</table>
<p><strong>Create from a sequence expression</strong></p>
<p>You can use an expression inside brackets (and after seq keyword) to create a new sequence:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 2)" onmouseover="showTip(event, 'fs1', 2)" class="i">numbers</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="i">seq</span> {<span class="k">for</span> <span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="i">i</span> <span class="k">in</span> <span class="n">1..</span><span class="n">20</span> <span class="k">do</span> <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs3', 5)" onmouseover="showTip(event, 'fs3', 5)" class="i">i</span>}
</code></pre></td>
</tr>
</table>
<p>We can write a compacted version using the forward arrow followed by the value to yield:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 6)" onmouseover="showTip(event, 'fs1', 6)" class="i">numbers</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs2', 7)" onmouseover="showTip(event, 'fs2', 7)" class="i">seq</span> {<span class="k">for</span> <span onmouseout="hideTip(event, 'fs3', 8)" onmouseover="showTip(event, 'fs3', 8)" class="i">i</span> <span class="k">in</span> <span class="n">1..</span><span class="n">20</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs3', 9)" onmouseover="showTip(event, 'fs3', 9)" class="i">i</span>}
</code></pre></td>
</tr>
</table>
<p><strong>Create using a function in the Seq module</strong></p>
<p>As with arrays, there are some functions in the Seq module to create a sequence.</p>
<p>We can use Seq.init to initialise a sequence of n elements.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 10)" onmouseover="showTip(event, 'fs1', 10)" class="i">numbers</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 11)" onmouseover="showTip(event, 'fs4', 11)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 12)" onmouseover="showTip(event, 'fs5', 12)" class="f">init</span> <span class="n">20</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs3', 13)" onmouseover="showTip(event, 'fs3', 13)" class="i">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs3', 14)" onmouseover="showTip(event, 'fs3', 14)" class="i">i</span> <span class="o">*</span> <span class="n">2</span>)
</code></pre></td>
</tr>
</table>
<p>Or we can use initInifinite to create an infinite sequence.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 15)" onmouseover="showTip(event, 'fs1', 15)" class="i">numbers</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 16)" onmouseover="showTip(event, 'fs4', 16)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs6', 17)" onmouseover="showTip(event, 'fs6', 17)" class="f">initInfinite</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs3', 18)" onmouseover="showTip(event, 'fs3', 18)" class="i">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs3', 19)" onmouseover="showTip(event, 'fs3', 19)" class="i">i</span> <span class="o">*</span> <span class="n">2</span>)
</code></pre></td>
</tr>
</table>
<p>Finally, we can also create a sequence directly from an IEnumerable</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs7', 20)" onmouseover="showTip(event, 'fs7', 20)" class="i">files</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs8', 21)" onmouseover="showTip(event, 'fs8', 21)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs9', 22)" onmouseover="showTip(event, 'fs9', 22)" class="i">IO</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs10', 23)" onmouseover="showTip(event, 'fs10', 23)" class="t">Directory</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 24)" onmouseover="showTip(event, 'fs11', 24)" class="f">EnumerateDirectories</span>(<span class="s">&quot;C:</span><span class="e">\\</span><span class="s">Windows&quot;</span>)
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 25)" onmouseover="showTip(event, 'fs4', 25)" class="t">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs12', 26)" onmouseover="showTip(event, 'fs12', 26)" class="f">map</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs13', 27)" onmouseover="showTip(event, 'fs13', 27)" class="i">f</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs13', 28)" onmouseover="showTip(event, 'fs13', 28)" class="i">f</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs14', 29)" onmouseover="showTip(event, 'fs14', 29)" class="i">Length</span>)
</code></pre></td>
</tr>
</table>
<h3>Operations in Seq module</h3>
<p>All the operations we've seen in the last article about arrays are applicable to this one, changing Array by Seq (i.e. from Array.iter to Seq.iter) and the behavior is the same. Let's see some other functions that can be valuable.</p>
<p><strong>Seq.unfold</strong></p>
<p>Unfold is a way to generate a sequence from a generator function. You can see it as an extension to Seq.initInfinite. The function takes two parameters: the first one is the generator function, which must return an <a href="http://fsharpforfunandprofit.com/posts/the-option-type/">option</a> tuple with the next element of the sequence and the next state value to be passed to the next iteration. The second parameter is the initial state.</p>
<p>For example, if we want to generate the square of a number up to a certain threshold we can do something like this</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="o">&gt;</span><span class="k">let</span> <span class="i">squareUpTo</span> (<span class="i">top</span>) <span class="o">=</span>
        <span class="n">1</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 30)" onmouseover="showTip(event, 'fs4', 30)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs15', 31)" onmouseover="showTip(event, 'fs15', 31)" class="i">unfold</span>(<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span class="k">if</span> ( <span class="i">i</span><span class="o">*</span><span class="i">i</span> <span class="o">&gt;</span> <span class="i">top</span> ) <span class="k">then</span> <span onmouseout="hideTip(event, 'fs16', 32)" onmouseover="showTip(event, 'fs16', 32)" class="i">None</span>
                                <span class="k">else</span> <span onmouseout="hideTip(event, 'fs17', 33)" onmouseover="showTip(event, 'fs17', 33)" class="i">Some</span>(<span class="i">i</span><span class="o">*</span><span class="i">i</span>, <span class="i">i</span> <span class="o">+</span> <span class="n">1</span>))

    <span class="n">1</span> <span class="n">4</span> <span class="n">9</span> <span class="n">16</span> <span class="n">25</span> <span class="n">36</span> <span class="n">49</span> <span class="n">64</span> <span class="n">81</span> <span class="n">100</span> <span class="n">121</span> <span class="n">144</span> <span class="n">169</span> <span class="n">196</span> <span class="n">225</span> <span class="n">256</span> <span class="n">289</span> <span class="n">324</span> <span class="n">361</span> <span class="n">400</span> <span class="n">441</span> <span class="n">484</span> <span class="n">529</span> <span class="n">576</span> <span class="n">625</span> <span class="n">676</span> <span class="n">729</span> <span class="n">784</span> <span class="n">841</span> <span class="n">900</span> <span class="n">961</span>
</code></pre></td>
</tr>
</table>
<p>The first 1 is the initial state, in this case 1. This initial state is passed to unfold function. The generator checks if the result will be greater than the threshold and, if it is, returns None. If it isn't, returns a tuple with the next element of the sequence (in this case de square) and the next state to be passed to unfold (in this case the next number).</p>
<p><strong>Seq.find</strong></p>
<p>Find takes a boolean as a parameter and returns the first element of the sequence that where the function returns true. If it can't find any result, returns an exception.</p>
<p>Following the previous example if we do</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="o">&gt;</span><span class="k">let</span> <span class="i">j</span> <span class="o">=</span>
        <span class="i">squares</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 34)" onmouseover="showTip(event, 'fs4', 34)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs18', 35)" onmouseover="showTip(event, 'fs18', 35)" class="i">find</span>(<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span class="i">i</span> <span class="o">&lt;</span> <span class="n">0</span>)
</code></pre></td>
</tr>
</table>
<p>We get the following error
System.Collections.Generic.KeyNotFoundException: Exception of type 'System.Collections.Generic.KeyNotFoundException' was thrown.</p>
<p>On the other hand, if we do</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span class="i">j</span> <span class="o">=</span>
        <span class="i">squares</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 36)" onmouseover="showTip(event, 'fs4', 36)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs18', 37)" onmouseover="showTip(event, 'fs18', 37)" class="i">find</span>(<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span class="i">i</span> <span class="o">&gt;</span> <span class="n">200</span> )
</code></pre></td>
</tr>
</table>
<p>We get</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">val</span> <span class="i">j</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs19', 38)" onmouseover="showTip(event, 'fs19', 38)" class="i">int</span> <span class="o">=</span> <span class="n">225</span>
</code></pre></td>
</tr>
</table>
<p>If we don't want to get an exception, we can use the tryFind function, which returns an option type. Then, the follwing code</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span class="i">j</span> <span class="o">=</span>
        <span class="i">squares</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 39)" onmouseover="showTip(event, 'fs4', 39)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs20', 40)" onmouseover="showTip(event, 'fs20', 40)" class="i">tryFind</span>(<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span class="i">i</span> <span class="o">&lt;</span> <span class="n">0</span>)
</code></pre></td>
</tr>
</table>
<p>Returns</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">val</span> <span class="i">j</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs19', 41)" onmouseover="showTip(event, 'fs19', 41)" class="i">int</span> <span onmouseout="hideTip(event, 'fs21', 42)" onmouseover="showTip(event, 'fs21', 42)" class="i">option</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 43)" onmouseover="showTip(event, 'fs16', 43)" class="i">None</span>
</code></pre></td>
</tr>
</table>
<p><strong>Seq.pick</strong></p>
<p>Given a sequence takes the first result of the function provided as a parameter that is not a None (the function must return an option)</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span class="i">j</span> <span class="o">=</span>
        <span class="i">squares</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 44)" onmouseover="showTip(event, 'fs4', 44)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 45)" onmouseover="showTip(event, 'fs22', 45)" class="i">pick</span>(<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span class="k">if</span> (<span class="i">i</span> <span class="o">&gt;</span> <span class="n">200</span>) <span class="k">then</span> <span onmouseout="hideTip(event, 'fs17', 46)" onmouseover="showTip(event, 'fs17', 46)" class="i">Some</span>(<span class="i">i</span>) <span class="k">else</span> <span onmouseout="hideTip(event, 'fs16', 47)" onmouseover="showTip(event, 'fs16', 47)" class="i">None</span>)

    <span class="k">val</span> <span class="i">j</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs19', 48)" onmouseover="showTip(event, 'fs19', 48)" class="i">int</span> <span class="o">=</span> <span class="n">225</span>
</code></pre></td>
</tr>
</table>
<p>If there isn't any valid value, it throws an exception. If you want to avoid this, use tryPick.</p>
<p><strong>Seq.findIndex</strong></p>
<p>Same as Seq.find but returns the index of the element, not the element itself. If you want to avoid the exception, use tryFindIndex.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span class="i">j</span> <span class="o">=</span>
        <span class="i">squares</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 49)" onmouseover="showTip(event, 'fs4', 49)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs23', 50)" onmouseover="showTip(event, 'fs23', 50)" class="i">findIndex</span>(<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span class="i">i</span> <span class="o">&gt;</span> <span class="n">200</span> )

    <span class="k">val</span> <span class="i">j</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs19', 51)" onmouseover="showTip(event, 'fs19', 51)" class="i">int</span> <span class="o">=</span> <span class="n">14</span>
</code></pre></td>
</tr>
</table>
<p><strong>Seq.exists</strong></p>
<p>Returns true if the function supplied returns true for any of the values of the sequence.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span class="i">j</span> <span class="o">=</span>
        <span class="i">squares</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 52)" onmouseover="showTip(event, 'fs4', 52)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs24', 53)" onmouseover="showTip(event, 'fs24', 53)" class="i">exists</span>(<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span class="i">i</span> <span class="o">=</span> <span class="n">100</span>)

    <span class="k">val</span> <span class="i">j</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs25', 54)" onmouseover="showTip(event, 'fs25', 54)" class="i">bool</span> <span class="o">=</span> <span class="k">true</span>
</code></pre></td>
</tr>
</table>
<p><strong>Seq.groupBy</strong></p>
<p>Groups a sequence by the results of the function supplied. Returns sequence of key/value pairs.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">let</span> <span class="i">howBigIsTheNumber</span> <span class="i">i</span> <span class="o">=</span>
        <span class="k">if</span> <span class="i">i</span> <span class="o">&lt;</span> <span class="n">100</span> <span class="k">then</span> <span class="s">&quot;Small&quot;</span>
        <span class="k">elif</span> <span class="i">i</span> <span class="o">&lt;</span> <span class="n">500</span> <span class="k">then</span> <span class="s">&quot;Medium&quot;</span>
        <span class="k">else</span> <span class="s">&quot;Big&quot;</span>

    <span class="k">let</span> <span class="i">groupedSquares</span> <span class="o">=</span>
    <span class="i">squares</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 55)" onmouseover="showTip(event, 'fs4', 55)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 56)" onmouseover="showTip(event, 'fs26', 56)" class="i">groupBy</span>(<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span class="i">howBigIsTheNumber</span> <span class="i">i</span>)
</code></pre></td>
</tr>
</table>
<p><strong>Seq.disctint</strong></p>
<p>Given a sequence, return only the unique elements</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="o">&gt;</span><span class="k">let</span> <span class="i">random</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 57)" onmouseover="showTip(event, 'fs8', 57)" class="i">System</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs27', 58)" onmouseover="showTip(event, 'fs27', 58)" class="i">Random</span>()
     <span class="k">let</span> <span class="i">randomNumbers</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 59)" onmouseover="showTip(event, 'fs4', 59)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 60)" onmouseover="showTip(event, 'fs5', 60)" class="i">init</span> <span class="n">50</span> (<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span class="i">random</span><span class="o">.</span><span class="i">Next</span>(<span class="n">1</span>, <span class="n">5</span>))
     <span class="k">let</span> <span class="i">disctintNumbers</span> <span class="o">=</span>
        <span class="i">randomNumbers</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 61)" onmouseover="showTip(event, 'fs4', 61)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs28', 62)" onmouseover="showTip(event, 'fs28', 62)" class="i">distinct</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 63)" onmouseover="showTip(event, 'fs4', 63)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs29', 64)" onmouseover="showTip(event, 'fs29', 64)" class="i">iter</span> (<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs30', 65)" onmouseover="showTip(event, 'fs30', 65)" class="i">printf</span> <span class="s">&quot;%d &quot;</span> <span class="i">i</span> )

    <span class="n">3</span> <span class="n">2</span> <span class="n">1</span> <span class="n">4</span>
</code></pre></td>
</tr>
</table>
<p>If we need to get the disctint elements given a function, we can use disctintBy</p>
<p><strong>Seq.pairwise</strong></p>
<p>Given a sequence creates a sequence of tuples. The first tuple will contain the first and second element of the original sequence, the second tuple will contain the second and third, and so on.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="o">&gt;</span><span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 66)" onmouseover="showTip(event, 'fs1', 66)" class="i">numbers</span> <span class="o">=</span> {<span class="n">1..</span><span class="n">5</span>}
    <span class="k">let</span> <span class="i">tNumbers</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs1', 67)" onmouseover="showTip(event, 'fs1', 67)" class="i">numbers</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 68)" onmouseover="showTip(event, 'fs4', 68)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs31', 69)" onmouseover="showTip(event, 'fs31', 69)" class="i">pairwise</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 70)" onmouseover="showTip(event, 'fs4', 70)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs29', 71)" onmouseover="showTip(event, 'fs29', 71)" class="i">iter</span> (<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs30', 72)" onmouseover="showTip(event, 'fs30', 72)" class="i">printf</span> <span class="s">&quot;(%d, %d) &quot;</span> (<span onmouseout="hideTip(event, 'fs32', 73)" onmouseover="showTip(event, 'fs32', 73)" class="i">fst</span> <span class="i">i</span>) (<span onmouseout="hideTip(event, 'fs33', 74)" onmouseover="showTip(event, 'fs33', 74)" class="i">snd</span> <span class="i">i</span>) )

    (<span class="n">1</span>, <span class="n">2</span>) (<span class="n">2</span>, <span class="n">3</span>) (<span class="n">3</span>, <span class="n">4</span>) (<span class="n">4</span>, <span class="n">5</span>)
</code></pre></td>
</tr>
</table>
<p><strong>Seq.windowed</strong></p>
<p>Given a sequence creates a sequence of arrays of the length supplied. The first array will contain the elements between the first element of the original sequence and length. The second one will contain the elements between the second element of the original sequence and length + 1, and so on.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="o">&gt;</span><span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 75)" onmouseover="showTip(event, 'fs1', 75)" class="i">numbers</span> <span class="o">=</span> {<span class="n">1..</span><span class="n">10</span>}
     <span class="k">let</span> <span class="i">tNumbers</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs1', 76)" onmouseover="showTip(event, 'fs1', 76)" class="i">numbers</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 77)" onmouseover="showTip(event, 'fs4', 77)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 78)" onmouseover="showTip(event, 'fs34', 78)" class="i">windowed</span> <span class="n">5</span>
        <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 79)" onmouseover="showTip(event, 'fs4', 79)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs29', 80)" onmouseover="showTip(event, 'fs29', 80)" class="i">iter</span> (<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs30', 81)" onmouseover="showTip(event, 'fs30', 81)" class="i">printf</span> <span class="s">&quot;%s\n&quot;</span> ( <span onmouseout="hideTip(event, 'fs35', 82)" onmouseover="showTip(event, 'fs35', 82)" class="i">String</span><span class="o">.</span><span class="i">Join</span>(<span class="s">&quot;,&quot;</span>, <span class="i">i</span>)) )

    <span class="n">1</span>,<span class="n">2</span>,<span class="n">3</span>,<span class="n">4</span>,<span class="n">5</span>
    <span class="n">2</span>,<span class="n">3</span>,<span class="n">4</span>,<span class="n">5</span>,<span class="n">6</span>
    <span class="n">3</span>,<span class="n">4</span>,<span class="n">5</span>,<span class="n">6</span>,<span class="n">7</span>
    <span class="n">4</span>,<span class="n">5</span>,<span class="n">6</span>,<span class="n">7</span>,<span class="n">8</span>
    <span class="n">5</span>,<span class="n">6</span>,<span class="n">7</span>,<span class="n">8</span>,<span class="n">9</span>
    <span class="n">6</span>,<span class="n">7</span>,<span class="n">8</span>,<span class="n">9</span>,<span class="n">10</span>
</code></pre></td>
</tr>
</table>
<p><strong>Seq.collect</strong></p>
<p>Given a sequences applies a function to each element that creates a sequence and concatenates the results:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="o">&gt;</span><span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 83)" onmouseover="showTip(event, 'fs1', 83)" class="i">numbers</span> <span class="o">=</span> {<span class="n">1..</span><span class="n">5</span>}
    <span onmouseout="hideTip(event, 'fs1', 84)" onmouseover="showTip(event, 'fs1', 84)" class="i">numbers</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 85)" onmouseover="showTip(event, 'fs4', 85)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs36', 86)" onmouseover="showTip(event, 'fs36', 86)" class="i">collect</span> (<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> {<span class="i">i</span><span class="o">*</span><span class="n">10..</span><span class="i">i</span><span class="o">*</span><span class="n">10</span><span class="o">+</span><span class="n">5</span>} )
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs4', 87)" onmouseover="showTip(event, 'fs4', 87)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs29', 88)" onmouseover="showTip(event, 'fs29', 88)" class="i">iter</span> (<span class="k">fun</span> <span class="i">i</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs30', 89)" onmouseover="showTip(event, 'fs30', 89)" class="i">printf</span> <span class="s">&quot;%d &quot;</span> <span class="i">i</span> )

    <span class="n">10</span> <span class="n">11</span> <span class="n">12</span> <span class="n">13</span> <span class="n">14</span> <span class="n">15</span> <span class="n">20</span> <span class="n">21</span> <span class="n">22</span> <span class="n">23</span> <span class="n">24</span> <span class="n">25</span> <span class="n">30</span> <span class="n">31</span> <span class="n">32</span> <span class="n">33</span> <span class="n">34</span> <span class="n">35</span> <span class="n">40</span> <span class="n">41</span> <span class="n">42</span> <span class="n">43</span> <span class="n">44</span> <span class="n">45</span> <span class="n">50</span> <span class="n">51</span> <span class="n">52</span> <span class="n">53</span> <span class="n">54</span> <span class="n">55</span>
</code></pre></td>
</tr>
</table>
<h4>Summary</h4>
<p>In this article, we've continued taking a look at data structures in F#, in this case sequences. We've seen some other functions that can also be applied to other data structures.</p>
<!--
          <div class="tip" id="fs1">val numbers : seq&lt;int&gt;<br /><br />Full name: sequencesinfsharp.numbers</div>
<div class="tip" id="fs2">Multiple items<br />val seq : sequence:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.Operators.seq<br /><br />--------------------<br />type seq&lt;&#39;T&gt; = System.Collections.Generic.IEnumerable&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.seq&lt;_&gt;</div>
<div class="tip" id="fs3">val i : int</div>
<div class="tip" id="fs4">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs5">val init : count:int -&gt; initializer:(int -&gt; &#39;T) -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.init</div>
<div class="tip" id="fs6">val initInfinite : initializer:(int -&gt; &#39;T) -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.initInfinite</div>
<div class="tip" id="fs7">val files : seq&lt;int&gt;<br /><br />Full name: sequencesinfsharp.files</div>
<div class="tip" id="fs8">namespace System</div>
<div class="tip" id="fs9">namespace System.IO</div>
<div class="tip" id="fs10">type Directory =<br />&#160;&#160;static member CreateDirectory : path:string -&gt; DirectoryInfo + 1 overload<br />&#160;&#160;static member Delete : path:string -&gt; unit + 1 overload<br />&#160;&#160;static member EnumerateDirectories : path:string -&gt; IEnumerable&lt;string&gt; + 2 overloads<br />&#160;&#160;static member EnumerateFileSystemEntries : path:string -&gt; IEnumerable&lt;string&gt; + 2 overloads<br />&#160;&#160;static member EnumerateFiles : path:string -&gt; IEnumerable&lt;string&gt; + 2 overloads<br />&#160;&#160;static member Exists : path:string -&gt; bool<br />&#160;&#160;static member GetAccessControl : path:string -&gt; DirectorySecurity + 1 overload<br />&#160;&#160;static member GetCreationTime : path:string -&gt; DateTime<br />&#160;&#160;static member GetCreationTimeUtc : path:string -&gt; DateTime<br />&#160;&#160;static member GetCurrentDirectory : unit -&gt; string<br />&#160;&#160;...<br /><br />Full name: System.IO.Directory</div>
<div class="tip" id="fs11">System.IO.Directory.EnumerateDirectories(path: string) : System.Collections.Generic.IEnumerable&lt;string&gt;<br />System.IO.Directory.EnumerateDirectories(path: string, searchPattern: string) : System.Collections.Generic.IEnumerable&lt;string&gt;<br />System.IO.Directory.EnumerateDirectories(path: string, searchPattern: string, searchOption: System.IO.SearchOption) : System.Collections.Generic.IEnumerable&lt;string&gt;</div>
<div class="tip" id="fs12">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.map</div>
<div class="tip" id="fs13">val f : string</div>
<div class="tip" id="fs14">property System.String.Length: int</div>
<div class="tip" id="fs15">val unfold : generator:(&#39;State -&gt; (&#39;T * &#39;State) option) -&gt; state:&#39;State -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.unfold</div>
<div class="tip" id="fs16">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs17">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs18">val find : predicate:(&#39;T -&gt; bool) -&gt; source:seq&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Collections.Seq.find</div>
<div class="tip" id="fs19">Multiple items<br />val int : value:&#39;T -&gt; int (requires member op_Explicit)<br /><br />Full name: Microsoft.FSharp.Core.Operators.int<br /><br />--------------------<br />type int = int32<br /><br />Full name: Microsoft.FSharp.Core.int<br /><br />--------------------<br />type int&lt;&#39;Measure&gt; = int<br /><br />Full name: Microsoft.FSharp.Core.int&lt;_&gt;</div>
<div class="tip" id="fs20">val tryFind : predicate:(&#39;T -&gt; bool) -&gt; source:seq&lt;&#39;T&gt; -&gt; &#39;T option<br /><br />Full name: Microsoft.FSharp.Collections.Seq.tryFind</div>
<div class="tip" id="fs21">type &#39;T option = Option&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.option&lt;_&gt;</div>
<div class="tip" id="fs22">val pick : chooser:(&#39;T -&gt; &#39;U option) -&gt; source:seq&lt;&#39;T&gt; -&gt; &#39;U<br /><br />Full name: Microsoft.FSharp.Collections.Seq.pick</div>
<div class="tip" id="fs23">val findIndex : predicate:(&#39;T -&gt; bool) -&gt; source:seq&lt;&#39;T&gt; -&gt; int<br /><br />Full name: Microsoft.FSharp.Collections.Seq.findIndex</div>
<div class="tip" id="fs24">val exists : predicate:(&#39;T -&gt; bool) -&gt; source:seq&lt;&#39;T&gt; -&gt; bool<br /><br />Full name: Microsoft.FSharp.Collections.Seq.exists</div>
<div class="tip" id="fs25">type bool = System.Boolean<br /><br />Full name: Microsoft.FSharp.Core.bool</div>
<div class="tip" id="fs26">val groupBy : projection:(&#39;T -&gt; &#39;Key) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;Key * seq&lt;&#39;T&gt;&gt; (requires equality)<br /><br />Full name: Microsoft.FSharp.Collections.Seq.groupBy</div>
<div class="tip" id="fs27">Multiple items<br />type Random =<br />&#160;&#160;new : unit -&gt; Random + 1 overload<br />&#160;&#160;member Next : unit -&gt; int + 2 overloads<br />&#160;&#160;member NextBytes : buffer:byte[] -&gt; unit<br />&#160;&#160;member NextDouble : unit -&gt; float<br /><br />Full name: System.Random<br /><br />--------------------<br />System.Random() : unit<br />System.Random(Seed: int) : unit</div>
<div class="tip" id="fs28">val distinct : source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt; (requires equality)<br /><br />Full name: Microsoft.FSharp.Collections.Seq.distinct</div>
<div class="tip" id="fs29">val iter : action:(&#39;T -&gt; unit) -&gt; source:seq&lt;&#39;T&gt; -&gt; unit<br /><br />Full name: Microsoft.FSharp.Collections.Seq.iter</div>
<div class="tip" id="fs30">val printf : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.printf</div>
<div class="tip" id="fs31">val pairwise : source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T * &#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.pairwise</div>
<div class="tip" id="fs32">val fst : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T1<br /><br />Full name: Microsoft.FSharp.Core.Operators.fst</div>
<div class="tip" id="fs33">val snd : tuple:(&#39;T1 * &#39;T2) -&gt; &#39;T2<br /><br />Full name: Microsoft.FSharp.Core.Operators.snd</div>
<div class="tip" id="fs34">val windowed : windowSize:int -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T []&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.windowed</div>
<div class="tip" id="fs35">module String<br /><br />from Microsoft.FSharp.Core</div>
<div class="tip" id="fs36">val collect : mapping:(&#39;T -&gt; #seq&lt;&#39;U&gt;) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.collect</div>

        </div>
        <div class="span1"></div>
      </div>
    </div>-->
