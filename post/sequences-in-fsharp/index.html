<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Sequences in F# - VGALTES blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Vicenç García" /><meta name="description" content="A sequence is a list of potential values (all of them of the same type) computed on demand.
Sequence creation As with arrays there are several ways to create a sequence.
Create from a range expression
You can create a new sequence from a range expression. In this case, instead of using [| and |] you should use { and }
1 let numbers = {1..20} Create from a sequence expression" />






<meta name="generator" content="Hugo 0.109.0 with theme even" />


<link rel="canonical" href="https://vgaltes.com/post/sequences-in-fsharp/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">



<meta property="og:title" content="Sequences in F#" />
<meta property="og:description" content="A sequence is a list of potential values (all of them of the same type) computed on demand.
Sequence creation As with arrays there are several ways to create a sequence.
Create from a range expression
You can create a new sequence from a range expression. In this case, instead of using [| and |] you should use { and }
1 let numbers = {1..20} Create from a sequence expression" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://vgaltes.com/post/sequences-in-fsharp/" /><meta property="article:section" content="post" />


<meta itemprop="name" content="Sequences in F#">
<meta itemprop="description" content="A sequence is a list of potential values (all of them of the same type) computed on demand.
Sequence creation As with arrays there are several ways to create a sequence.
Create from a range expression
You can create a new sequence from a range expression. In this case, instead of using [| and |] you should use { and }
1 let numbers = {1..20} Create from a sequence expression">

<meta itemprop="wordCount" content="1168">
<meta itemprop="keywords" content="data structures,F#," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Sequences in F#"/>
<meta name="twitter:description" content="A sequence is a list of potential values (all of them of the same type) computed on demand.
Sequence creation As with arrays there are several ways to create a sequence.
Create from a range expression
You can create a new sequence from a range expression. In this case, instead of using [| and |] you should use { and }
1 let numbers = {1..20} Create from a sequence expression"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">VGALTES</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">VGALTES</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Sequences in F#</h1>

      <div class="post-meta">
        <span class="post-time"> 01-01-0001 </span>
        <div class="post-category">
            <a href="/categories/fsharp/"> FSharp </a>
            </div>
          <span class="more-meta"> 1168 words </span>
          <span class="more-meta"> 6 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#sequence-creation">Sequence creation</a></li>
            <li><a href="#operations-in-seq-module">Operations in Seq module</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>A sequence is a list of potential values (all of them of the same type) computed on demand.</p>
<h3 id="sequence-creation">Sequence creation</h3>
<p>As with <a href="http://vgaltes.com/fsharp/arrays-in-fsharp/">arrays</a> there are several ways to create a sequence.</p>
<p><strong>Create from a range expression</strong></p>
<p>You can create a new sequence from a range expression. In this case, instead of using <code>[|</code> and <code>|]</code> you should use <code>{</code> and <code>}</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">..</span><span class="mi">20</span><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Create from a sequence expression</strong></p>
<p>You can use an expression inside brackets (and after seq keyword) to create a new sequence:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="n">seq</span> <span class="o">{</span><span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">20</span> <span class="k">do</span> <span class="k">yield</span> <span class="n">i</span><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>We can write a compacted version using the forward arrow followed by the value to yield:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="n">seq</span> <span class="o">{</span><span class="k">for</span> <span class="n">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">..</span><span class="mi">20</span> <span class="o">-&gt;</span> <span class="n">i</span><span class="o">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Create using a function in the Seq module</strong></p>
<p>As with arrays, there are some functions in the Seq module to create a sequence.</p>
<p>We can use Seq.init to initialise a sequence of n elements.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">init</span> <span class="mi">20</span> <span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Or we can use initInifinite to create an infinite sequence.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">initInfinite</span> <span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">2</span><span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Finally, we can also create a sequence directly from an IEnumerable</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">files</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">        <span class="nn">System</span><span class="p">.</span><span class="nn">IO</span><span class="p">.</span><span class="nn">Directory</span><span class="p">.</span><span class="n">EnumerateDirectories</span><span class="o">(</span><span class="s">&#34;C:</span><span class="se">\\</span><span class="s">Windows&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">map</span><span class="o">(</span><span class="k">fun</span> <span class="n">f</span> <span class="o">-&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">Length</span><span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="operations-in-seq-module">Operations in Seq module</h3>
<p>All the operations we&rsquo;ve seen in the last article about arrays are applicable to this one, changing Array by Seq (i.e. from Array.iter to Seq.iter) and the behavior is the same. Let&rsquo;s see some other functions that can be valuable.</p>
<p><strong>Seq.unfold</strong></p>
<p>Unfold is a way to generate a sequence from a generator function. You can see it as an extension to Seq.initInfinite. The function takes two parameters: the first one is the generator function, which must return an <a href="http://fsharpforfunandprofit.com/posts/the-option-type/">option</a> tuple with the next element of the sequence and the next state value to be passed to the next iteration. The second parameter is the initial state.</p>
<p>For example, if we want to generate the square of a number up to a certain threshold we can do something like this</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="o">&gt;</span><span class="k">let</span> <span class="nv">squareUpTo</span> <span class="o">(</span><span class="n">top</span><span class="o">)</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">        <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">unfold</span><span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="k">if</span> <span class="o">(</span> <span class="n">i</span><span class="o">*</span><span class="n">i</span> <span class="o">&gt;</span> <span class="n">top</span> <span class="o">)</span> <span class="k">then</span> <span class="n">None</span>
</span></span><span class="line"><span class="cl">                                <span class="k">else</span> <span class="n">Some</span><span class="o">(</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="o">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">))</span>
</span></span><span class="line"><span class="cl">                                
</span></span><span class="line"><span class="cl">    <span class="mi">1</span> <span class="mi">4</span> <span class="mi">9</span> <span class="mi">16</span> <span class="mi">25</span> <span class="mi">36</span> <span class="mi">49</span> <span class="mi">64</span> <span class="mi">81</span> <span class="mi">100</span> <span class="mi">121</span> <span class="mi">144</span> <span class="mi">169</span> <span class="mi">196</span> <span class="mi">225</span> <span class="mi">256</span> <span class="mi">289</span> <span class="mi">324</span> <span class="mi">361</span> <span class="mi">400</span> <span class="mi">441</span> <span class="mi">484</span> <span class="mi">529</span> <span class="mi">576</span> <span class="mi">625</span> <span class="mi">676</span> <span class="mi">729</span> <span class="mi">784</span> <span class="mi">841</span> <span class="mi">900</span> <span class="mi">961</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><p>The first 1 is the initial state, in this case 1. This initial state is passed to unfold function. The generator checks if the result will be greater than the threshold and, if it is, returns None. If it isn&rsquo;t, returns a tuple with the next element of the sequence (in this case de square) and the next state to be passed to unfold (in this case the next number).</p>
<p><strong>Seq.find</strong></p>
<p>Find takes a boolean as a parameter and returns the first element of the sequence that where the function returns true. If it can&rsquo;t find any result, returns an exception.</p>
<p>Following the previous example if we do</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="o">&gt;</span><span class="k">let</span> <span class="nv">j</span> <span class="o">=</span> 
</span></span><span class="line"><span class="cl">        <span class="n">squares</span>
</span></span><span class="line"><span class="cl">        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">find</span><span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>We get the following error
System.Collections.Generic.KeyNotFoundException: Exception of type &lsquo;System.Collections.Generic.KeyNotFoundException&rsquo; was thrown.</p>
<p>On the other hand, if we do</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">j</span> <span class="o">=</span> 
</span></span><span class="line"><span class="cl">        <span class="n">squares</span>
</span></span><span class="line"><span class="cl">        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">find</span><span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">200</span> <span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>We get</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">val</span> <span class="n">j</span> <span class="o">:</span> <span class="n">int</span> <span class="o">=</span> <span class="mi">225</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>If we don&rsquo;t want to get an exception, we can use the tryFind function, which returns an option type. Then, the follwing code</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">j</span> <span class="o">=</span> 
</span></span><span class="line"><span class="cl">        <span class="n">squares</span>
</span></span><span class="line"><span class="cl">        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">tryFind</span><span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Returns</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">val</span> <span class="n">j</span> <span class="o">:</span> <span class="n">int</span> <span class="n">option</span> <span class="o">=</span> <span class="n">None</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Seq.pick</strong></p>
<p>Given a sequence takes the first result of the function provided as a parameter that is not a None (the function must return an option)</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">j</span> <span class="o">=</span> 
</span></span><span class="line"><span class="cl">        <span class="n">squares</span>
</span></span><span class="line"><span class="cl">        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">pick</span><span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">200</span><span class="o">)</span> <span class="k">then</span> <span class="n">Some</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="k">else</span> <span class="n">None</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="n">j</span> <span class="o">:</span> <span class="n">int</span> <span class="o">=</span> <span class="mi">225</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>If there isn&rsquo;t any valid value, it throws an exception. If you want to avoid this, use tryPick.</p>
<p><strong>Seq.findIndex</strong></p>
<p>Same as Seq.find but returns the index of the element, not the element itself. If you want to avoid the exception, use tryFindIndex.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">j</span> <span class="o">=</span> 
</span></span><span class="line"><span class="cl">        <span class="n">squares</span>
</span></span><span class="line"><span class="cl">        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">findIndex</span><span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">200</span> <span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="n">j</span> <span class="o">:</span> <span class="n">int</span> <span class="o">=</span> <span class="mi">14</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Seq.exists</strong></p>
<p>Returns true if the function supplied returns true for any of the values of the sequence.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">j</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">        <span class="n">squares</span>
</span></span><span class="line"><span class="cl">        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">exists</span><span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">100</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">val</span> <span class="n">j</span> <span class="o">:</span> <span class="kt">bool</span> <span class="o">=</span> <span class="k">true</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Seq.groupBy</strong></p>
<p>Groups a sequence by the results of the function supplied. Returns sequence of key/value pairs.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">howBigIsTheNumber</span> <span class="n">i</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span> <span class="k">then</span> <span class="s">&#34;Small&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">elif</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">500</span> <span class="k">then</span> <span class="s">&#34;Medium&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span> <span class="s">&#34;Big&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">groupedSquares</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">    <span class="n">squares</span>
</span></span><span class="line"><span class="cl">    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">groupBy</span><span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">howBigIsTheNumber</span> <span class="n">i</span><span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Seq.disctint</strong></p>
<p>Given a sequence, return only the unique elements</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="o">&gt;</span><span class="k">let</span> <span class="nv">random</span> <span class="o">=</span> <span class="nn">System</span><span class="p">.</span><span class="n">Random</span><span class="bp">()</span>
</span></span><span class="line"><span class="cl">     <span class="k">let</span> <span class="nv">randomNumbers</span> <span class="o">=</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">init</span> <span class="mi">50</span> <span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">random</span><span class="o">.</span><span class="n">Next</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">5</span><span class="o">))</span>
</span></span><span class="line"><span class="cl">     <span class="k">let</span> <span class="nv">disctintNumbers</span> <span class="o">=</span>
</span></span><span class="line"><span class="cl">        <span class="n">randomNumbers</span>
</span></span><span class="line"><span class="cl">        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">distinct</span>
</span></span><span class="line"><span class="cl">        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">iter</span> <span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">printf</span> <span class="s">&#34;%d &#34;</span> <span class="n">i</span> <span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="mi">3</span> <span class="mi">2</span> <span class="mi">1</span> <span class="mi">4</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>If we need to get the disctint elements given a function, we can use disctintBy</p>
<p><strong>Seq.pairwise</strong></p>
<p>Given a sequence creates a sequence of tuples. The first tuple will contain the first and second element of the original sequence, the second tuple will contain the second and third, and so on.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="o">&gt;</span><span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">let</span> <span class="nv">tNumbers</span> <span class="o">=</span> 
</span></span><span class="line"><span class="cl">    <span class="n">numbers</span>
</span></span><span class="line"><span class="cl">    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">pairwise</span>
</span></span><span class="line"><span class="cl">    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">iter</span> <span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">printf</span> <span class="s">&#34;(%d, %d) &#34;</span> <span class="o">(</span><span class="n">fst</span> <span class="n">i</span><span class="o">)</span> <span class="o">(</span><span class="n">snd</span> <span class="n">i</span><span class="o">)</span> <span class="o">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">)</span> <span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="o">)</span> <span class="o">(</span><span class="mi">4</span><span class="o">,</span> <span class="mi">5</span><span class="o">)</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Seq.windowed</strong></p>
<p>Given a sequence creates a sequence of arrays of the length supplied. The first array will contain the elements between the first element of the original sequence and length. The second one will contain the elements between the second element of the original sequence and length + 1, and so on.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="o">&gt;</span><span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">..</span><span class="mi">10</span><span class="o">}</span>
</span></span><span class="line"><span class="cl">     <span class="k">let</span> <span class="nv">tNumbers</span> <span class="o">=</span> 
</span></span><span class="line"><span class="cl">        <span class="n">numbers</span>
</span></span><span class="line"><span class="cl">        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">windowed</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl">        <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">iter</span> <span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">printf</span> <span class="s">&#34;%s</span><span class="se">\n</span><span class="s">&#34;</span> <span class="o">(</span> <span class="nn">String</span><span class="p">.</span><span class="n">Join</span><span class="o">(</span><span class="s">&#34;,&#34;</span><span class="o">,</span> <span class="n">i</span><span class="o">))</span> <span class="o">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span>
</span></span><span class="line"><span class="cl">    <span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span>
</span></span><span class="line"><span class="cl">    <span class="mi">3</span><span class="o">,</span><span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span>
</span></span><span class="line"><span class="cl">    <span class="mi">4</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="mi">8</span>
</span></span><span class="line"><span class="cl">    <span class="mi">5</span><span class="o">,</span><span class="mi">6</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="mi">8</span><span class="o">,</span><span class="mi">9</span>
</span></span><span class="line"><span class="cl">    <span class="mi">6</span><span class="o">,</span><span class="mi">7</span><span class="o">,</span><span class="mi">8</span><span class="o">,</span><span class="mi">9</span><span class="o">,</span><span class="mi">10</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Seq.collect</strong></p>
<p>Given a sequences applies a function to each element that creates a sequence and concatenates the results:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fsharp" data-lang="fsharp"><span class="line"><span class="cl">    <span class="o">&gt;</span><span class="k">let</span> <span class="nv">numbers</span> <span class="o">=</span> <span class="o">{</span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span><span class="o">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">numbers</span>
</span></span><span class="line"><span class="cl">    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">collect</span> <span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="o">{</span><span class="n">i</span><span class="o">*</span><span class="mi">10</span><span class="o">..</span><span class="n">i</span><span class="o">*</span><span class="mi">10</span><span class="o">+</span><span class="mi">5</span><span class="o">}</span> <span class="o">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">|&gt;</span> <span class="nn">Seq</span><span class="p">.</span><span class="n">iter</span> <span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span> <span class="n">printf</span> <span class="s">&#34;%d &#34;</span> <span class="n">i</span> <span class="o">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="mi">10</span> <span class="mi">11</span> <span class="mi">12</span> <span class="mi">13</span> <span class="mi">14</span> <span class="mi">15</span> <span class="mi">20</span> <span class="mi">21</span> <span class="mi">22</span> <span class="mi">23</span> <span class="mi">24</span> <span class="mi">25</span> <span class="mi">30</span> <span class="mi">31</span> <span class="mi">32</span> <span class="mi">33</span> <span class="mi">34</span> <span class="mi">35</span> <span class="mi">40</span> <span class="mi">41</span> <span class="mi">42</span> <span class="mi">43</span> <span class="mi">44</span> <span class="mi">45</span> <span class="mi">50</span> <span class="mi">51</span> <span class="mi">52</span> <span class="mi">53</span> <span class="mi">54</span> <span class="mi">55</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="summary">Summary</h4>
<p>In this article, we&rsquo;ve continued taking a look at data structures in F#, in this case sequences. We&rsquo;ve seen some other functions that can also be applied to other data structures.</p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">Vicenç García</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        01-01-0001
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/data-structures/">data structures</a>
          <a href="/tags/f/">F#</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/forms-with-suave-experimental-and-suave-forms/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Sending forms with Suave, Suave.Experimental and Suave.Forms</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
      </nav>
    </footer>
  </article>
        </div>
        <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'vgaltes';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:vgaltes@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://linkedin.com/in/vgaltes" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="https://twitter.com/vgaltes" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://github.com/vgaltes" class="iconfont icon-github" title="github"></a>
  <a href="https://vgaltes.com/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2013 - 
    2023<span class="heart"><i class="iconfont icon-heart"></i></span><span>Vicenç García</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
