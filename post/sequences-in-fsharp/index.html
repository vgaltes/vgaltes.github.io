<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Sequences in F# - VGALTES blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Vicenç García" /><meta name="description" content="A sequence is a list of potential values (all of them of the same type) computed on demand.
Sequence creation As with arrays there are several ways to create a sequence.
Create from a range expression
You can create a new sequence from a range expression. In this case, instead of using [| and |] you should use { and }
let numbers = {1..20} Create from a sequence expression" />






<meta name="generator" content="Hugo 0.105.0 with theme even" />


<link rel="canonical" href="http://example.org/post/sequences-in-fsharp/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">



<meta property="og:title" content="Sequences in F#" />
<meta property="og:description" content="A sequence is a list of potential values (all of them of the same type) computed on demand.
Sequence creation As with arrays there are several ways to create a sequence.
Create from a range expression
You can create a new sequence from a range expression. In this case, instead of using [| and |] you should use { and }
let numbers = {1..20} Create from a sequence expression" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/post/sequences-in-fsharp/" /><meta property="article:section" content="post" />



<meta itemprop="name" content="Sequences in F#">
<meta itemprop="description" content="A sequence is a list of potential values (all of them of the same type) computed on demand.
Sequence creation As with arrays there are several ways to create a sequence.
Create from a range expression
You can create a new sequence from a range expression. In this case, instead of using [| and |] you should use { and }
let numbers = {1..20} Create from a sequence expression">

<meta itemprop="wordCount" content="1087">
<meta itemprop="keywords" content="data structures,F#," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Sequences in F#"/>
<meta name="twitter:description" content="A sequence is a list of potential values (all of them of the same type) computed on demand.
Sequence creation As with arrays there are several ways to create a sequence.
Create from a range expression
You can create a new sequence from a range expression. In this case, instead of using [| and |] you should use { and }
let numbers = {1..20} Create from a sequence expression"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">VGALTES</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">VGALTES</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Sequences in F#</h1>

      <div class="post-meta">
        <span class="post-time"> 01-01-0001 </span>
        <div class="post-category">
            <a href="/categories/fsharp/"> FSharp </a>
            </div>
          <span class="more-meta"> 1087 words </span>
          <span class="more-meta"> 6 mins read </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#sequence-creation">Sequence creation</a></li>
        <li><a href="#operations-in-seq-module">Operations in Seq module</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <p>A sequence is a list of potential values (all of them of the same type) computed on demand.</p>
<h3 id="sequence-creation">Sequence creation</h3>
<p>As with <a href="http://vgaltes.com/fsharp/arrays-in-fsharp/">arrays</a> there are several ways to create a sequence.</p>
<p><strong>Create from a range expression</strong></p>
<p>You can create a new sequence from a range expression. In this case, instead of using <code>[|</code> and <code>|]</code> you should use <code>{</code> and <code>}</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> numbers <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>1<span style="color:#f92672">..</span>20<span style="color:#f92672">}</span>
</span></span></code></pre></div><p><strong>Create from a sequence expression</strong></p>
<p>You can use an expression inside brackets (and after seq keyword) to create a new sequence:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> numbers <span style="color:#f92672">=</span> seq <span style="color:#f92672">{</span><span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> 1<span style="color:#f92672">..</span>20 <span style="color:#66d9ef">do</span> <span style="color:#66d9ef">yield</span> i<span style="color:#f92672">}</span>
</span></span></code></pre></div><p>We can write a compacted version using the forward arrow followed by the value to yield:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> numbers <span style="color:#f92672">=</span> seq <span style="color:#f92672">{</span><span style="color:#66d9ef">for</span> i <span style="color:#66d9ef">in</span> 1<span style="color:#f92672">..</span>20 <span style="color:#f92672">-&gt;</span> i<span style="color:#f92672">}</span>
</span></span></code></pre></div><p><strong>Create using a function in the Seq module</strong></p>
<p>As with arrays, there are some functions in the Seq module to create a sequence.</p>
<p>We can use Seq.init to initialise a sequence of n elements.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> numbers <span style="color:#f92672">=</span> Seq.init 20 <span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> i <span style="color:#f92672">*</span> 2<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>Or we can use initInifinite to create an infinite sequence.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> numbers <span style="color:#f92672">=</span> Seq.initInfinite <span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> i <span style="color:#f92672">*</span> 2<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>Finally, we can also create a sequence directly from an IEnumerable</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> files <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>        System.IO.Directory.EnumerateDirectories<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;C:</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">Windows&#34;</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|&gt;</span> Seq.map<span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> f <span style="color:#f92672">-&gt;</span> f<span style="color:#f92672">.</span>Length<span style="color:#f92672">)</span>
</span></span></code></pre></div><h3 id="operations-in-seq-module">Operations in Seq module</h3>
<p>All the operations we&rsquo;ve seen in the last article about arrays are applicable to this one, changing Array by Seq (i.e. from Array.iter to Seq.iter) and the behavior is the same. Let&rsquo;s see some other functions that can be valuable.</p>
<p><strong>Seq.unfold</strong></p>
<p>Unfold is a way to generate a sequence from a generator function. You can see it as an extension to Seq.initInfinite. The function takes two parameters: the first one is the generator function, which must return an <a href="http://fsharpforfunandprofit.com/posts/the-option-type/">option</a> tuple with the next element of the sequence and the next state value to be passed to the next iteration. The second parameter is the initial state.</p>
<p>For example, if we want to generate the square of a number up to a certain threshold we can do something like this</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#f92672">&gt;</span><span style="color:#66d9ef">let</span> squareUpTo <span style="color:#f92672">(</span>top<span style="color:#f92672">)</span> <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>        1
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|&gt;</span> Seq.unfold<span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span> i<span style="color:#f92672">*</span>i <span style="color:#f92672">&gt;</span> top <span style="color:#f92672">)</span> <span style="color:#66d9ef">then</span> None
</span></span><span style="display:flex;"><span>                                <span style="color:#66d9ef">else</span> Some<span style="color:#f92672">(</span>i<span style="color:#f92672">*</span>i<span style="color:#f92672">,</span> i <span style="color:#f92672">+</span> 1<span style="color:#f92672">))</span>
</span></span><span style="display:flex;"><span>                                
</span></span><span style="display:flex;"><span>    1 4 9 16 25 36 49 64 81 100 121 144 169 196 225 256 289 324 361 400 441 484 529 576 625 676 729 784 841 900 961 
</span></span></code></pre></div><p>The first 1 is the initial state, in this case 1. This initial state is passed to unfold function. The generator checks if the result will be greater than the threshold and, if it is, returns None. If it isn&rsquo;t, returns a tuple with the next element of the sequence (in this case de square) and the next state to be passed to unfold (in this case the next number).</p>
<p><strong>Seq.find</strong></p>
<p>Find takes a boolean as a parameter and returns the first element of the sequence that where the function returns true. If it can&rsquo;t find any result, returns an exception.</p>
<p>Following the previous example if we do</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#f92672">&gt;</span><span style="color:#66d9ef">let</span> j <span style="color:#f92672">=</span> 
</span></span><span style="display:flex;"><span>        squares
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|&gt;</span> Seq.find<span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> i <span style="color:#f92672">&lt;</span> 0<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>We get the following error
System.Collections.Generic.KeyNotFoundException: Exception of type &lsquo;System.Collections.Generic.KeyNotFoundException&rsquo; was thrown.</p>
<p>On the other hand, if we do</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> j <span style="color:#f92672">=</span> 
</span></span><span style="display:flex;"><span>        squares
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|&gt;</span> Seq.find<span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> i <span style="color:#f92672">&gt;</span> 200 <span style="color:#f92672">)</span>
</span></span></code></pre></div><p>We get</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> j <span style="color:#f92672">:</span> int <span style="color:#f92672">=</span> 225
</span></span></code></pre></div><p>If we don&rsquo;t want to get an exception, we can use the tryFind function, which returns an option type. Then, the follwing code</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> j <span style="color:#f92672">=</span> 
</span></span><span style="display:flex;"><span>        squares
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|&gt;</span> Seq.tryFind<span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> i <span style="color:#f92672">&lt;</span> 0<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>Returns</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> j <span style="color:#f92672">:</span> int option <span style="color:#f92672">=</span> None
</span></span></code></pre></div><p><strong>Seq.pick</strong></p>
<p>Given a sequence takes the first result of the function provided as a parameter that is not a None (the function must return an option)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> j <span style="color:#f92672">=</span> 
</span></span><span style="display:flex;"><span>        squares
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|&gt;</span> Seq.pick<span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>i <span style="color:#f92672">&gt;</span> 200<span style="color:#f92672">)</span> <span style="color:#66d9ef">then</span> Some<span style="color:#f92672">(</span>i<span style="color:#f92672">)</span> <span style="color:#66d9ef">else</span> None<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> j <span style="color:#f92672">:</span> int <span style="color:#f92672">=</span> 225
</span></span></code></pre></div><p>If there isn&rsquo;t any valid value, it throws an exception. If you want to avoid this, use tryPick.</p>
<p><strong>Seq.findIndex</strong></p>
<p>Same as Seq.find but returns the index of the element, not the element itself. If you want to avoid the exception, use tryFindIndex.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> j <span style="color:#f92672">=</span> 
</span></span><span style="display:flex;"><span>        squares
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|&gt;</span> Seq.findIndex<span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> i <span style="color:#f92672">&gt;</span> 200 <span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> j <span style="color:#f92672">:</span> int <span style="color:#f92672">=</span> 14
</span></span></code></pre></div><p><strong>Seq.exists</strong></p>
<p>Returns true if the function supplied returns true for any of the values of the sequence.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> j <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>        squares
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|&gt;</span> Seq.exists<span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> i <span style="color:#f92672">=</span> 100<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> j <span style="color:#f92672">:</span> <span style="color:#66d9ef">bool</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span></code></pre></div><p><strong>Seq.groupBy</strong></p>
<p>Groups a sequence by the results of the function supplied. Returns sequence of key/value pairs.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> howBigIsTheNumber i <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&lt;</span> 100 <span style="color:#66d9ef">then</span> <span style="color:#e6db74">&#34;Small&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> i <span style="color:#f92672">&lt;</span> 500 <span style="color:#66d9ef">then</span> <span style="color:#e6db74">&#34;Medium&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#34;Big&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> groupedSquares <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>    squares
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">|&gt;</span> Seq.groupBy<span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> howBigIsTheNumber i<span style="color:#f92672">)</span>
</span></span></code></pre></div><p><strong>Seq.disctint</strong></p>
<p>Given a sequence, return only the unique elements</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#f92672">&gt;</span><span style="color:#66d9ef">let</span> random <span style="color:#f92672">=</span> System.Random()
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">let</span> randomNumbers <span style="color:#f92672">=</span> Seq.init 50 <span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> random<span style="color:#f92672">.</span>Next<span style="color:#f92672">(</span>1<span style="color:#f92672">,</span> 5<span style="color:#f92672">))</span>
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">let</span> disctintNumbers <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>        randomNumbers
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|&gt;</span> Seq.distinct
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|&gt;</span> Seq.iter <span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> printf <span style="color:#e6db74">&#34;%d &#34;</span> i <span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    3 2 1 4
</span></span></code></pre></div><p>If we need to get the disctint elements given a function, we can use disctintBy</p>
<p><strong>Seq.pairwise</strong></p>
<p>Given a sequence creates a sequence of tuples. The first tuple will contain the first and second element of the original sequence, the second tuple will contain the second and third, and so on.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#f92672">&gt;</span><span style="color:#66d9ef">let</span> numbers <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>1<span style="color:#f92672">..</span>5<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> tNumbers <span style="color:#f92672">=</span> 
</span></span><span style="display:flex;"><span>    numbers
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">|&gt;</span> Seq.pairwise
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">|&gt;</span> Seq.iter <span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> printf <span style="color:#e6db74">&#34;(%d, %d) &#34;</span> <span style="color:#f92672">(</span>fst i<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>snd i<span style="color:#f92672">)</span> <span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">(</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>2<span style="color:#f92672">,</span> 3<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>3<span style="color:#f92672">,</span> 4<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>4<span style="color:#f92672">,</span> 5<span style="color:#f92672">)</span> 
</span></span></code></pre></div><p><strong>Seq.windowed</strong></p>
<p>Given a sequence creates a sequence of arrays of the length supplied. The first array will contain the elements between the first element of the original sequence and length. The second one will contain the elements between the second element of the original sequence and length + 1, and so on.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#f92672">&gt;</span><span style="color:#66d9ef">let</span> numbers <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>1<span style="color:#f92672">..</span>10<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">let</span> tNumbers <span style="color:#f92672">=</span> 
</span></span><span style="display:flex;"><span>        numbers
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|&gt;</span> Seq.windowed 5
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">|&gt;</span> Seq.iter <span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> printf <span style="color:#e6db74">&#34;%s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">(</span> String.Join<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;,&#34;</span><span style="color:#f92672">,</span> i<span style="color:#f92672">))</span> <span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    1<span style="color:#f92672">,</span>2<span style="color:#f92672">,</span>3<span style="color:#f92672">,</span>4<span style="color:#f92672">,</span>5
</span></span><span style="display:flex;"><span>    2<span style="color:#f92672">,</span>3<span style="color:#f92672">,</span>4<span style="color:#f92672">,</span>5<span style="color:#f92672">,</span>6
</span></span><span style="display:flex;"><span>    3<span style="color:#f92672">,</span>4<span style="color:#f92672">,</span>5<span style="color:#f92672">,</span>6<span style="color:#f92672">,</span>7
</span></span><span style="display:flex;"><span>    4<span style="color:#f92672">,</span>5<span style="color:#f92672">,</span>6<span style="color:#f92672">,</span>7<span style="color:#f92672">,</span>8
</span></span><span style="display:flex;"><span>    5<span style="color:#f92672">,</span>6<span style="color:#f92672">,</span>7<span style="color:#f92672">,</span>8<span style="color:#f92672">,</span>9
</span></span><span style="display:flex;"><span>    6<span style="color:#f92672">,</span>7<span style="color:#f92672">,</span>8<span style="color:#f92672">,</span>9<span style="color:#f92672">,</span>10
</span></span></code></pre></div><p><strong>Seq.collect</strong></p>
<p>Given a sequences applies a function to each element that creates a sequence and concatenates the results:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fsharp" data-lang="fsharp"><span style="display:flex;"><span>    <span style="color:#f92672">&gt;</span><span style="color:#66d9ef">let</span> numbers <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>1<span style="color:#f92672">..</span>5<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    numbers
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">|&gt;</span> Seq.collect <span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>i<span style="color:#f92672">*</span>10<span style="color:#f92672">..</span>i<span style="color:#f92672">*</span>10<span style="color:#f92672">+</span>5<span style="color:#f92672">}</span> <span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">|&gt;</span> Seq.iter <span style="color:#f92672">(</span><span style="color:#66d9ef">fun</span> i <span style="color:#f92672">-&gt;</span> printf <span style="color:#e6db74">&#34;%d &#34;</span> i <span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    10 11 12 13 14 15 20 21 22 23 24 25 30 31 32 33 34 35 40 41 42 43 44 45 50 51 52 53 54 55 
</span></span></code></pre></div><h4 id="summary">Summary</h4>
<p>In this article, we&rsquo;ve continued taking a look at data structures in F#, in this case sequences. We&rsquo;ve seen some other functions that can also be applied to other data structures.</p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">Vicenç García</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        01-01-0001
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/data-structures/">data structures</a>
          <a href="/tags/f/">F#</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/forms-with-suave-experimental-and-suave-forms/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">Sending forms with Suave, Suave.Experimental and Suave.Forms</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        
      </nav>
    </footer>
  </article>
        </div>
        <div id="disqus_thread"></div>
    <script type="text/javascript">
    (function() {
      
      
      if (window.location.hostname === 'localhost') return;

      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      var disqus_shortname = 'vgaltes';
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:vgaltes@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://linkedin.com/in/vgaltes" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="https://twitter.com/vgaltes" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://github.com/vgaltes" class="iconfont icon-github" title="github"></a>
  <a href="http://example.org/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2013 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span>Vicenç García</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  <script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
