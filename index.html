<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>VGALTES blog</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="Vicenç García" />
  <meta name="description" content="VGALTES blog." />






<meta name="generator" content="Hugo 0.40.1" />


<link rel="canonical" href="http://example.org/" />
<link href="http://example.org/index.xml" rel="alternate" type="application/rss+xml" title="VGALTES blog" />
  <link href="http://example.org/index.xml" rel="feed" type="application/rss+xml" title="VGALTES blog" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">







<link href="/dist/even.min.css?v=3.2.0" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">




<meta property="og:title" content="VGALTES blog" />
<meta property="og:description" content="VGALTES blog." />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://example.org/" />



<meta property="og:updated_time" content="2019-10-18T00:00:00&#43;00:00"/>










<meta itemprop="name" content="VGALTES blog">
<meta itemprop="description" content="VGALTES blog.">

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="VGALTES blog"/>
<meta name="twitter:description" content="VGALTES blog."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">VGALTES</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">VGALTES</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          
  <section id="posts" class="posts">
    
    
    
      <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/api-gw-basic-auth/">Basic API Gateway endpoint authentication with Cognito User Pools</a></h1>
    <div class="post-meta">
      <span class="post-time"> 18-10-2019 </span>
      <div class="post-category">
          
            <a href="/categories/serverless/"> serverless </a>
          
        </div>
      <span class="more-meta"> 1375 words </span>
      <span class="more-meta"> 7 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      In many occasions, you don&rsquo;t want your whole API open to the public. Maybe you want to make some endpoints available to authenticated users. In this article we&rsquo;re going to see how to do that using Amazon Cognito User Pools and AWS Amplify. Let&rsquo;s start!
Amazon Cognito User Pools As the documentation says, a user pool is a user directory in Amazon Cognito. You can allow your users to sign-up, sign-in, etc.
    </div>
    <div class="read-more">
      <a href="/post/api-gw-basic-auth/" class="read-more-link">Read more..</a>
    </div>
  </div>
</article>

    
      <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/random-stuff-june/">Interesting reads - June 2019</a></h1>
    <div class="post-meta">
      <span class="post-time"> 13-06-2019 </span>
      <div class="post-category">
          
            <a href="/categories/random-stuff/"> Random Stuff </a>
          
        </div>
      <span class="more-meta"> 268 words </span>
      <span class="more-meta"> 2 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      My good friend Edu Ferro has a very nice blog called eferro&rsquo;s random stuff in which he posts the most interesting blogs, talks and podcasts he&rsquo;s read, viewed and heard lately. I like the idea and, now that I have a bit more free time, I&rsquo;ll try to do the same, at least once every month. I&rsquo;m not going to post here podcasts and talks, basically because all the ones I listen I get them from Edu&rsquo;s blog, so I&rsquo;m just going to concentrate in blogs.
    </div>
    <div class="read-more">
      <a href="/post/random-stuff-june/" class="read-more-link">Read more..</a>
    </div>
  </div>
</article>

    
      <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/mentoring/">Mentoring</a></h1>
    <div class="post-meta">
      <span class="post-time"> 31-05-2019 </span>
      <div class="post-category">
          
            <a href="/categories/random-thoughts/"> Random Thoughts </a>
          
        </div>
      <span class="more-meta"> 714 words </span>
      <span class="more-meta"> 4 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      Last September I turned 40. You know, in the movies, when someone turns forty he buys a new brand card, gets divorced and tries something new. I still don&rsquo;t have a car and, although I&rsquo;m not married, I still live with my partner, but I did start something new. In my case, was an old &ldquo;aspiration&rdquo; (I tried it 7 years ago): learning to play guitar. Not that I want to be the next Angus Young but I never had any musical education and I always wanted to be able to play an instrument, especially guitar.
    </div>
    <div class="read-more">
      <a href="/post/mentoring/" class="read-more-link">Read more..</a>
    </div>
  </div>
</article>

    
      <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/using-key-vault-secret-in-appsettings/">Using Key Vault secrets in AppSettings</a></h1>
    <div class="post-meta">
      <span class="post-time"> 30-11-2018 </span>
      <div class="post-category">
          
            <a href="/categories/serverless/"> serverless </a>
          
        </div>
      <span class="more-meta"> 972 words </span>
      <span class="more-meta"> 5 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      In the last article we talked about securing Azure Functions and we saw how to insert a message into an Event Hub. To insert the message, we needed the connection string to be in an application setting. This is not the most secure way to store a connection string. We talked that it would be a much better option to store it in Key Vault. Until a couple of days ago, to do that we needed to use a library to get the secret from Key Vault and then use an imperative binding to be able to insert the message into the Event Hub.
    </div>
    <div class="read-more">
      <a href="/post/using-key-vault-secret-in-appsettings/" class="read-more-link">Read more..</a>
    </div>
  </div>
</article>

    
      <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/securing-azure-functions/">Securing Azure Functions</a></h1>
    <div class="post-meta">
      <span class="post-time"> 23-11-2018 </span>
      <div class="post-category">
          
            <a href="/categories/serverless/"> serverless </a>
          
        </div>
      <span class="more-meta"> 1140 words </span>
      <span class="more-meta"> 6 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      (Thanks to Francesc Ribera, Alex Casquete and Jerry Liu for their guidance on this topic)
As far as I know (correct me in the comments if I&rsquo;m wrong, please), when you create a brand new Azure Function, it has access to everything in your subscription as a contributor. That&rsquo;s really not great. When you develop a new Lambda function you have to specify all the permissions that the function has to have.
    </div>
    <div class="read-more">
      <a href="/post/securing-azure-functions/" class="read-more-link">Read more..</a>
    </div>
  </div>
</article>

    
      <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/enabling-application-insights/">Deploying Azure Functions - Enabling Application Insights</a></h1>
    <div class="post-meta">
      <span class="post-time"> 20-11-2018 </span>
      <div class="post-category">
          
            <a href="/categories/serverless/"> serverless </a>
          
        </div>
      <span class="more-meta"> 579 words </span>
      <span class="more-meta"> 3 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      In our previous articles we&rsquo;ve seen how to deploy a Function App using the Azure CLI or Terraform. Once we have a function deployed and accepting traffic, the next obvious thing to do is to monitor it.
Adding some logs to the function is fairly easy. If you take a look at the signature of the function
[FunctionName(&quot;HelloWorld&quot;)] public static async Task&lt;IActionResult&gt; Run( [HttpTrigger(AuthorizationLevel.Anonymous, &quot;get&quot;, &quot;post&quot;, Route = null)] HttpRequest req, ILogger log)  you&rsquo;ll see that we hava a parameter of type ILogger that we can use to, yes, you guessed it right, log.
    </div>
    <div class="read-more">
      <a href="/post/enabling-application-insights/" class="read-more-link">Read more..</a>
    </div>
  </div>
</article>

    
      <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/deploying-azure-functions-using-slots/">Deploying Azure Functions using slots</a></h1>
    <div class="post-meta">
      <span class="post-time"> 18-11-2018 </span>
      <div class="post-category">
          
            <a href="/categories/serverless/"> serverless </a>
          
        </div>
      <span class="more-meta"> 898 words </span>
      <span class="more-meta"> 5 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      In previous articles we&rsquo;ve seen how to deploy a Function App using Azure Functions Core Tools, Terraform and Azure CLI with Zip Deploy. In this article we&rsquo;re going to take a look on how to deploy Function apps using deployment slots.
Why deployment slots Being able to deploy into slots and decide which slot you use in production has many benefits. To name some of them: - Enable A/B testing - Enable blue/green deployments - No downtime deployments - Easy rollback system
    </div>
    <div class="read-more">
      <a href="/post/deploying-azure-functions-using-slots/" class="read-more-link">Read more..</a>
    </div>
  </div>
</article>

    
      <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/deploying-azure-functions-using-zip-deploy/">Deploying Azure Functions using Zip Deploy</a></h1>
    <div class="post-meta">
      <span class="post-time"> 17-11-2018 </span>
      <div class="post-category">
          
            <a href="/categories/serverless/"> serverless </a>
          
        </div>
      <span class="more-meta"> 306 words </span>
      <span class="more-meta"> 2 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      In a previous article we&rsquo;ve seen how to deploy a Function App using the Azure CLI and the Azure Functions Core Tools. In this article we&rsquo;ll see how to get rid of the help of the latter and use the Zip Deploy feauture.
Fixing the script. We already have a deployment script. It is something like this:
#!/bin/bash location=$2 stage=$3 serviceName=$1-$stage resourceGroupName=$serviceName&quot;-rg&quot; serviceNameToLower=&quot;$(echo $serviceName | tr '[:upper:]' '[:lower:]')&quot; storageAccountName=&quot;$(echo ${serviceNameToLower//&quot;-&quot;/&quot;&quot;})&quot; echo &quot;Creating resource group&quot; az group create --name $resourceGroupName --location $location echo &quot;Creating storage account&quot; az storage account create --name $storageAccountName --location $location --resource-group $resourceGroupName --sku Standard_LRS echo &quot;Creating function app&quot; az functionapp create --name $serviceName --storage-account $storageAccountName --consumption-plan-location westeurope --resource-group $resourceGroupName echo &quot;Publishing function locally&quot; dotnet build echo &quot;Publisihng function to Azure&quot; func azure functionapp publish $serviceName  What are we going to do is to change the last two steps.
    </div>
    <div class="read-more">
      <a href="/post/deploying-azure-functions-using-zip-deploy/" class="read-more-link">Read more..</a>
    </div>
  </div>
</article>

    
      <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/deploying-azure-functions-using-terraform/">Deploying Azure Functions using Terraform</a></h1>
    <div class="post-meta">
      <span class="post-time"> 16-11-2018 </span>
      <div class="post-category">
          
            <a href="/categories/serverless/"> serverless </a>
          
        </div>
      <span class="more-meta"> 494 words </span>
      <span class="more-meta"> 3 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      In previous articles (I, II) we&rsquo;ve seen how to deploy an Azure Function App using the Azure CLI and the Azure Functions Core Tools. In this article we&rsquo;ll see how to deploy it using Terraform.
Prerequisites In order to follow this article you will need the .Net SDK 2.1, the Azure CLI and Terraform installed in your laptop/container/VM/whatever.
Building the package What Terraform is going to do is take advantage of the Zip deployment capability (More on this in a future article).
    </div>
    <div class="read-more">
      <a href="/post/deploying-azure-functions-using-terraform/" class="read-more-link">Read more..</a>
    </div>
  </div>
</article>

    
      <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/deploying-azure-functions-using-cirecleci/">Deploying Azure Functions using CircleCI</a></h1>
    <div class="post-meta">
      <span class="post-time"> 15-11-2018 </span>
      <div class="post-category">
          
            <a href="/categories/serverless/"> serverless </a>
          
        </div>
      <span class="more-meta"> 1288 words </span>
      <span class="more-meta"> 7 mins read </span>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      In the last article we saw how to deploy an azure function from the CLI. In this article we&rsquo;ll see how we can use the same script to deploy the function from a continuous integration environment. In this case we&rsquo;ll use CircleCI.
Creating a new docker image As we saw, if we want to deploy the Function App using the same script we&rsquo;d need to use the Azure CLI and the Azure Functions Core Tools.
    </div>
    <div class="read-more">
      <a href="/post/deploying-azure-functions-using-cirecleci/" class="read-more-link">Read more..</a>
    </div>
  </div>
</article>

    
  </section>
  
  <nav class="pagination">
    
    
      <a class="next" href="/page/2/">
        <span class="next-text">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
  </nav>

        </div>
        

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:vgaltes@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://linkedin.com/in/vgaltes" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="https://twitter.com/vgaltes" class="iconfont icon-twitter" title="twitter"></a>
      <a href="https://github.com/vgaltes" class="iconfont icon-github" title="github"></a>
  <a href="http://example.org/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    
      2013 - 
    2019
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Vicenç García</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script><script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>


<script type="text/javascript" src="/dist/even.min.js?v=3.2.0"></script>








</body>
</html>
